# Лабораторна робота №1

<div align="right">
<strong>Група:</strong> ІО-42

<strong>Виконали:</strong> Бушма Д. О.,
Журавель Б. О.,
Закліковський Є. Д.,
Куліков М. М.  

<strong>Перевірив:</strong> Русінов В. В.
</div>

## **Тема:** 
Збір вимог та розробка схеми ER
## **Мета:** 
створити документ з вимогами, який окреслює, які дані слід зберігати (сутності та атрибути) та їхні зв'язки. Виходячи з цих вимог, визначити ключові сутності та намалювати ER-діаграму – графічний план моделі даних.

Для виконання завдання ми обрали створити базу даних для кав'ярні. 

## Короткий виклад вимог
### Потреби зацікавлених сторін:
- **Власник:** Хоче бачити реальні залишки на складі, контролювати витрати інгредієнтів згідно з рецептурою та аналізувати ефективність роботи співробітників. Також треба реалізувати систему бонусів для постійних відвідувачів.
- **Менеджер із закупівель:** Хоче фіксувати поставки від постачальників та швидко і зручно оновлювати інвентар.
- **Бариста:** Повинен мати можливість швидко фіксувати замовлення.

**Дані для зберігання будуть наступними:** інформація про клієнтів, співробітників, меню (страви та ціни), рецептуру (склад страв), складські запаси та історія продажів.
### **Основні правила, яких варто дотримуватись** 
- Кожне замовлення обов'язково прив'язане до співробітника, який його оформив.
- Постійні клієнти можуть накопичувати бонусні бали. Якщо клієнта не знайдено, то замовлення оформлюється анонімно.
- Кожна позиція меню (наприклад, "Чай з молоком") має затверджений рецепт, для приготування якого потрібні конкретні інгредієнти.
- Інгредієнти зберігаються в інвентарі (на складі). Їх кількість зменшується при продажу (через рецепт) і збільшується при поставках.
- Історія поставок зберігається із зазначенням постачальника та співробітника, який прийняв товар.

## Діаграма ER
матиме наступний вигляд:

<p align="center">
  <img src="media/ER-LR1.png" width="700"><br>
  <i>Рисунок 1 – ER-діаграма бази даних кав’ярні</i>
</p>

## Список сутностей та їх атрибути
### Таблиця 1 - Clients

| Поле | Тип | Ключ | Опис |
|------|------|------|------|
| client_id | INT | PK | Ідентифікатор клієнта |
| name | VARCHAR |  | Ім’я клієнта |
| phone | VARCHAR |  | Телефон |
| bonus_points | INT |  | Бонусні бали |

### Таблиця 2 - Employees

| Поле | Тип | Ключ | Опис |
|------|------|------|------|
| employee_id | INT | PK | Ідентифікатор працівника |
| full_name | VARCHAR |  | ПІБ |
| position | VARCHAR |  | Посада |
| hire_date | DATE |  | Дата прийому на роботу |

### Таблиця 3 - Suppliers

| Поле | Тип | Ключ | Опис |
|------|------|------|------|
| supplier_id | INT | PK | Ідентифікатор постачальника |
| company_name | VARCHAR |  | Назва компанії |
| contact_phone | VARCHAR |  | Контактний телефон |
| email | VARCHAR | | Контактна електронна пошта |

### Таблиця 4 - Orders

| Поле | Тип | Ключ | Опис |
|------|------|------|------|
| order_id | INT | PK | Ідентифікатор замовлення |
| client_id | INT | FK | Посилання на Clients |
| employee_id | INT | FK | Посилання на Employees |
| created_at | DATETIME |  | Дата створення |
| total_price | DECIMAL |  | Загальна сума |

### Таблиця 5 - Menu

| Поле | Тип | Ключ | Опис |
|------|------|------|------|
| menu_id | INT | PK | Ідентифікатор позиції меню |
| item_name | VARCHAR |  | Назва страви |
| price | DECIMAL |  | Ціна |
| category | VARCHAR |  | Категорія |

### Таблиця 6 - Ingredients

| Поле | Тип | Ключ | Опис |
|------|------|------|------|
| ingredient_id | INT | PK | Ідентифікатор інгредієнта |
| name | VARCHAR |  | Назва |
| unit | VARCHAR |  | Одиниця виміру |
| min_stock_level | DECIMAL |  | Мінімальний запас |

### Таблиця 7 - SupplyDeliveries

| Поле | Тип | Ключ | Опис |
|------|------|------|------|
| delivery_id | INT | PK | Ідентифікатор поставки |
| supplier_id | INT | FK | Посилання на Suppliers |
| employee_id | INT | FK | Хто прийняв поставку |
| delivery_date | DATE |  | Дата поставки |
| total_cost | DECIMAL | | Загальна вартість |

### Таблиця 8 - OrderItems

| Поле | Тип | Ключ | Опис |
|------|------|------|------|
| item_id | INT | PK | Ідентифікатор запису |
| order_id | INT | FK | Посилання на Orders |
| menu_id | INT | FK | Посилання на Menu |
| quantity | INT |  | Кількість |

### Таблиця 9 - Recipe

| Поле | Тип | Ключ | Опис |
|------|------|------|------|
| recipe_id | INT | PK | Ідентифікатор рецепту |
| menu_id | INT | FK | Посилання на Menu |
| ingredient_id | INT | FK | Посилання на Ingredients |
| quantity_required | DECIMAL |  | Кількість інгредієнта |

### Таблиця 10 - Inventory

| Поле | Тип | Ключ | Опис |
|------|------|------|------|
| inventory_id | INT | PK | Ідентифікатор запису |
| ingredient_id | INT | FK | Посилання на Ingredients |
| quantity_in_stock | DECIMAL |  | Кількість на складі |
| last_updated | DATETIME |  | Дата оновлення |
| storage_location | VARCHAR | | Місце знаходження |


**PK** – первинний ключ, **FK** – зовнішній ключ.

## Зв'язки

- Клієнт — Замовлення: один клієнт може робити багато замовлень, але замовлення може бути і без клієнта (1:N, optional).
- Співробітник — Замовлення/Поставки: кожне замовлення оформлює один працівник, і кожну поставку приймає один відповідальний (1:N).
- Меню — Рецепт — Інгредієнти: зв'язок "багато до багатьох" реалізований через таблицю рецептів. Одна страва складається з багатьох інгредієнтів, а один інгредієнт може бути частиною різних страв.
- Замовлення — Страви: через таблицю OrderItems одне замовлення включає кілька позицій з меню.

## Припущення та обмеження

- У замовленні може не бути контактних даних ("анонімне замовлення") у базі даних.
- Один інгредієнт може зберігатися лише в одному місці на складі (storage_location).
- Ціна в таблиці Menu є актуальною на момент замовлення; історичні зміни цін у старих замовленнях не відображаються (якщо не додано архівну ціну в OrderItems).
- Система припускає, що одиниці виміру в рецептах і на складі ідентичні (наприклад, тільки грами). 

# Висновки 
Отже, у результаті виконання лабораторної роботи розроблена ER-діаграма, що є цілісною моделлю бази даних, яка ефективно автоматизує ключові бізнес-процеси кав’ярні. Завдяки чіткій структурі сутностей система забезпечує повний цикл обліку: від моменту реєстрації замовлення та нарахування бонусів клієнту до автоматичного відстеження залишків інгредієнтів на складі. Дана структура є масштабованою та готовою до впровадження в реальну базу даних. Вона мінімізує ризики дублювання даних і закладає фундамент для якісної бізнес-аналітики.